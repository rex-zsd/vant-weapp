<view
  class="van-tree-select"
  style="height: {{ mainHeight }}px"
>
  <scroll-view scroll-y class="van-tree-select__nav">
    <view
      wx:for="{{ items }}"
      wx:key="index"
      class="{{ classNames.mainItem(mainActiveIndex === index, item.disabled) }}"
      data-index="{{ index }}"
      bind:tap="onClickNav"
    >
      {{ item.text }}
    </view>
  </scroll-view>
  <scroll-view
    scroll-y
    class="van-tree-select__content"
    style="height: {{ itemHeight }}px"
  >
    <view
      wx:for="{{ subItems }}"
      wx:key="item.id"
      class="{{ classNames.contentItem(activeId === item.id, item.disabled) }}"
      data-item="{{ item }}"
      bind:tap="onSelectItem"
    >
      {{ item.text }}
      <van-icon
        wx:if="{{ activeId === item.id }}"
        name="checked"
        size="16px"
        class="van-tree-select__selected"
      />
    </view>
  </scroll-view>
</view>

<wxs module="classNames">
  function mainItem(active, disabled) {
    var classes = [
      'van-tree-select__nitem',
      'van-ellipsis',
      'main-item-class'
    ];
    if (active) {
      classes.push('van-tree-select__nitem--active');
      classes.push('main-active-class');
    }
    if (disabled) {
      classes.push('van-tree-select__nitem--disabled');
      classes.push('main-disabled-class');
    }
    return classes.join(' ');
  }

  function contentItem(active, disabled) {
    var classes = [
      'van-tree-select__item',
      'van-ellipsis',
      'van-hairline--bottom',
      'content-item-class'
    ];
    if (active) {
      classes.push('van-tree-select__item--active');
      classes.push('content-active-class');
    }
    if (disabled) {
      classes.push('van-tree-select__item--disabled');
      classes.push('content-disabled-class');
    }
    return classes.join(' ');
  }

  module.exports.mainItem = mainItem;
  module.exports.contentItem = contentItem;
</wxs>
